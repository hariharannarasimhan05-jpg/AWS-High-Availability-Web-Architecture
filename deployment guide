ğŸš€ Ultimate AWS 3-Tier Architecture Guide (Complete)
Region: ap-south-1 (Mumbai) | VPC CIDR: 10.0.0.0/16

ğŸ›‘ Phase 1: Networking (The Foundation)
Goal: Create the roads and lanes for your traffic.

Create VPC:

VPC Dashboard â†’ Create VPC.

Name: MyProject-VPC | CIDR: 10.0.0.0/16.

Tenancy: Default. Click Create.

Create 4 Subnets:

Subnet 1: Name Public-1 | AZ ap-south-1a | CIDR 10.0.1.0/24

Subnet 2: Name Private-1 | AZ ap-south-1a | CIDR 10.0.2.0/24

Subnet 3: Name Public-2 | AZ ap-south-1b | CIDR 10.0.3.0/24

Subnet 4: Name Private-2 | AZ ap-south-1b | CIDR 10.0.4.0/24

Create Internet Gateway (IGW):

Internet Gateways â†’ Create IGW. Name: MyProject-IGW.

Actions â†’ Attach to VPC â†’ Select MyProject-VPC.

Configure Route Tables:

Create Route Table: Name Public-RT | Select MyProject-VPC.

Edit Routes: Add 0.0.0.0/0 â†’ Target Internet Gateway.

Edit Subnet Associations: Select Public-1 and Public-2. Save.

ğŸ”’ Phase 2: Security & Identity (The Passports)
Goal: Create Firewalls (Security Groups) and ID Cards (IAM Roles).

Create Web Security Group (Web-Server-SG):

Inbound Rules:

Type: HTTP | Port: 80 | Source: 0.0.0.0/0 (Anywhere).

Type: SSH | Port: 22 | Source: My IP (Your Laptop).

Create Database Security Group (DB-SG):

Inbound Rules:

Type: MySQL/Aurora | Port: 3306 | Source: Custom â†’ Select Web-Server-SG.

(This ensures ONLY the web server can talk to the database).

Create IAM Role for S3:

IAM Dashboard â†’ Roles â†’ Create role.

Trusted Entity: AWS Service â†’ EC2.

Permissions: Search & Select AmazonS3FullAccess (or ReadOnly).

Name: EC2-S3-Access-Role. Create.

ğŸ—„ï¸ Phase 3: Storage & Database (The Missing Piece)
Goal: Set up the persistent storage for files and data.

Create S3 Bucket:

S3 Dashboard â†’ Create bucket.

Name: hari-project-bucket-2026 (Must be globally unique).

Region: ap-south-1.

Block Public Access: Keep Checked (Secure).

Click Create Bucket.

Create DB Subnet Group (Crucial for RDS):

RDS Dashboard â†’ Subnet groups â†’ Create DB Subnet Group.

Name: my-db-subnet-group.

VPC: Select MyProject-VPC.

Add Subnets: Select AZs ap-south-1a & ap-south-1b. Choose the CIDRs for Private-1 (10.0.2.0) and Private-2 (10.0.4.0).

Create RDS Database:

RDS Dashboard â†’ Create database â†’ Standard create.

Engine: MySQL.

Template: Free Tier (Very Important!).

DB Instance: db.t3.micro.

Master Password: Set a password (write it down!).

Connectivity:

VPC: MyProject-VPC.

Subnet Group: my-db-subnet-group.

Public Access: No.

Security Group: Choose DB-SG (Remove the "default" one).

Additional Config: Uncheck "Enable storage autoscaling" (to prevent costs).

Click Create database.

âš™ï¸ Phase 4: Application & Scaling (The Logic)
Goal: Launch the servers that run the website.

Create Launch Template:

EC2 â†’ Launch Templates â†’ Create.

Name: MyWebTemplate.

AMI: Amazon Linux 2023. Instance: t2.micro.

Security Group: Web-Server-SG.

Advanced Details â†’ IAM Instance Profile: EC2-S3-Access-Role.

User Data (Copy exact code):

Bash
#!/bin/bash
yum update -y
yum install -y httpd
systemctl start httpd
systemctl enable httpd
echo "<h1>Success! Deployed by Hariharan</h1>" > /var/www/html/index.html
Create Application Load Balancer (ALB):

Load Balancers â†’ Create â†’ ALB.

Scheme: Internet-facing.

Network: MyProject-VPC â†’ Select Public-1 & Public-2.

Security Group: Web-Server-SG.

Listener: HTTP (80) â†’ Create Target Group.

(New Tab) TG Name: My-Web-TG â†’ Instances â†’ VPC: MyProject-VPC â†’ Next â†’ Create.

(Back to ALB) Refresh and select My-Web-TG. Create ALB.

Create Auto Scaling Group (ASG):

Auto Scaling Groups â†’ Create.

Template: MyWebTemplate.

Network: MyProject-VPC â†’ Select Public-1 & Public-2.

Load Balancing: Attach to existing LB â†’ Choose My-Web-TG.

Capacity: Desired 2, Min 1, Max 2.

Click Create.

âœ… Phase 5: Verification
Copy the ALB DNS Name (from Load Balancers page).

Paste it into a browser.

You should see: "Success! Deployed by Hariharan".

ğŸ§¹ Phase 6: The "Zero Bill" Cleanup (Order Matters!)
Delete Auto Scaling Group (Wait for instances to terminate).

Delete Load Balancer.

Delete Target Group.

Delete RDS Database (Uncheck "Create Snapshot").

Delete S3 Bucket (Empty it first).

Delete VPC (This cleans up subnets, IGW, and Route Tables automatically).
